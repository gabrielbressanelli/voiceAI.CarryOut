<!DOCTYPE html>
<html>

    <head>

        <style>

            .offcanvas {
            --bs-offcanvas-width: 35vw; 
            max-width: 700px;  
            min-width: 400px;  
        }    

            .glass-nav {
            /* translucent fill + gentle gradient */
            background: linear-gradient(
                180deg,
                rgba(255, 255, 255, 0.75),
                rgba(255, 255, 255, 0.55)
            );
            /* blur whatever is behind the bar */
            -webkit-backdrop-filter: saturate(180%) blur(14px);
            backdrop-filter: saturate(180%) blur(14px);

            /* subtle glass edges */
            border-bottom: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow:
              0 1px 0 rgba(255, 255, 255, 0.3) inset,   /* inner highlight */
              0 10px 30px rgba(0, 0, 0, 0.08);          /* soft drop shadow */

            /* spacing and layering */
            z-index: 1080;               /* above content */
            transition: background .25s ease, backdrop-filter .25s ease, border-color .25s ease;
        }

        body { padding-top: 4.5rem; }

        </style>


    </head>
    <body>
        <nav class="navbar navbar-expand-lg glass-nav fixed-top">
          <div class="container px-4 px-lg-5">
            <!-- Always visible brand/logo -->
            <a class="navbar-brand" href="{% url 'index' %}">
              <img src="https://onesixtymain.com/wp-content/uploads/2023/06/160Main-New.png" alt="160 Main" width="220" height="68">
            </a>
      

      
            <!-- Navigation links: hide on small screens, show on large screens -->
            <div class="collapse navbar-collapse d-none d-lg-flex" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="{% url 'index' %}">Menu</a>
                </li>
                <!-- You can add more nav items here if needed -->
              </ul>
            </div>
      
            <!-- Offcanvas Cart Button - always visible -->
            <button class="btn btn-outline-dark d-flex align-items-center" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
              <i class="bi-cart-fill me-1"></i>
              Cart
              <span class="badge bg-dark text-white ms-1 rounded-pill" id="cart_quantity">
                {{ cart|length }}
              </span>
            </button>
          </div>
        </nav>
      
        <!-- Offcanvas Sidebar for Cart -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
          <div class="offcanvas-header">
            <h5 id="offcanvasRightLabel">Your Cart</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body" id="cart_summary_container">
            {% include 'cart/cart_summary.html' %}
          </div>
        </div>
      </body>

      <script>
        const nav = document.querySelector('.glass-nav');
        const onScroll = () => nav?.classList.toggle('scrolled', window.scrollY > 8);
        window.addEventListener('scroll', onScroll, { passive: true });
        onScroll(); // init on load
      </script>
      
</html>